{% extends 'loanapp/base.html' %}

{% load static %}

{% block styles %}

    <link rel="stylesheet" href="{% static 'loanapp/styles/loans.css' %}">

{% endblock %}

{% block title %} All Payments {% endblock %}

{% block content %}
    <div class="customer-container">
        <h3>Payments</h3>
        <table>
           <thead>
               <th>Customer Name</th>
               <th>Loan No</th>
               <th>Payment Amount</th>
               <th>Balance</th>
               <th>Type</th>
               <th>Status</th>
                <th>Date</th>
           </thead>
            <tbody>

            {% for payment in payments %}

                <tr>
                <td>{{payment.customer.fullname}}</td>
                    <td>{{payment.loan.LoanNumber}}</td>
                <td>{{payment.Amount}}</td>
                <td>{{payment.balance}}</td>
                <td>{{payment.Type}}</td>
                <td>{{payment.Status}}</td>
                    <td>{{payment.DatePaid|date:"D,d  M Y" }}</td>
            </tr>

            {% endfor %}

            </tbody>
        </table>
        <div class="pagination">
                <ul>

                    {% if pages.has_previous %}

                        <li>
                            <a href="?page={{ pages.previous_page_number }}">
                                <i class="fa fa-arrow-left"></i>
                            </a>
                        </li>

                    {% endif %}

                    {% for  pagenumber in pages.paginator.page_range %}

                    <li><a href="?page={{pagenumber}}">{{pagenumber}}</a></li>

                    {% endfor %}


                    {% if pages.has_next %}

                        <li>
                            <a href="?page={{ pages.next_page_number }}">
                                <i class="fa fa-arrow-right"></i>
                            </a>
                        </li>

                    {% endif %}

                </ul>
        </div>
    </div>

{% endblock %}